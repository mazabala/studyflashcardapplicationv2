<script module lang="ts">
  import { defineMeta } from "@storybook/addon-svelte-csf";
  import Stack from "./Stack.svelte";
  import {
    borderStoryMeta,
    colorModeStoryMeta,
    getColorStoryMeta,
    getSpacingStoryMeta,
    shadowStoryMeta,
    sizeStoryMeta,
    stackDimensionStoryMeta,
  } from "../../stories/meta-templates";
  import { labelsData as labels } from "../../stories/fixtures";

  const { Story } = defineMeta({
    title: "Components/Stack",
    component: Stack,
    tags: ["autodocs"],
    argTypes: {
      dimension: stackDimensionStoryMeta,
      spacing: {
        control: { type: "number" },
        description: "Space between stack items in pixels",
      },
      colorMode: colorModeStoryMeta,
      shadow: shadowStoryMeta,
      background_color: getColorStoryMeta("Background color object"),
      padding: getSpacingStoryMeta("Padding values in pixels"),
      margin: getSpacingStoryMeta("Margin values in pixels"),
      border: borderStoryMeta,
      size: sizeStoryMeta,
    },
  });

  const purchaseState = {
    locale: "en_US",
    defaultLocale: "en_US",
  };

  const components = [
    {
      type: "text",
      size: {
        width: { type: "fit" },
        height: { type: "fit" },
      },
      horizontal_alignment: "center",
      name: "Item 1",
      components: [],
      id: "1",
      text_lid: "id1",
      background_color: {
        dark: { type: "alias", value: "transparent" },
        light: { type: "alias", value: "transparent" },
      },
      purchaseState,
    },
    {
      type: "text",
      size: {
        width: { type: "fit" },
        height: { type: "fit" },
      },
      horizontal_alignment: "center",
      name: "Item 2",
      components: [],
      id: "2",
      text_lid: "id2",
      background_color: {
        dark: { type: "alias", value: "transparent" },
        light: { type: "alias", value: "transparent" },
      },
      purchaseState,
    },
    {
      type: "text",
      size: {
        width: { type: "fit" },
        height: { type: "fit" },
      },
      horizontal_alignment: "center",
      name: "Item 3",
      components: [],
      id: "3",
      text_lid: "id3",
      background_color: {
        dark: { type: "alias", value: "transparent" },
        light: { type: "alias", value: "transparent" },
      },
      purchaseState,
    },
  ];
</script>

<!-- Vertical Stack -->
<Story
  name="Vertical Stack"
  args={{
    type: "stack",
    purchaseState,
    size: { width: { type: "fill" }, height: { type: "fill" } },
    labels,
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    margin: { top: 0, trailing: 0, bottom: 0, leading: 0 },
    id: "vertical-stack",
    name: "Vertical Stack",
  }}
/>

<!-- Horizontal Stack -->
<Story
  name="Horizontal Stack"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "horizontal",
      alignment: "center",
      distribution: "space_between",
    },
    labels,
    components,
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    margin: { top: 0, trailing: 0, bottom: 0, leading: 0 },
    id: "horizontal-stack",
    name: "Horizontal Stack",
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>

<!-- Space Around -->
<Story
  name="Space Around"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "horizontal",
      alignment: "center",
      distribution: "space_around",
    },
    labels,
    components,
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    margin: { top: 0, trailing: 0, bottom: 0, leading: 0 },
    id: "space-between",
    name: "Space Between",
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>

<!-- Background Color -->
<Story
  name="Background Colors"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    labels,
    background_color: {
      light: { type: "hex", value: "#C8E6FF" },
      dark: { type: "hex", value: "#C8E6FF" },
    },
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>

<!-- Border Styles -->
<Story
  name="Border Styles"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    labels,
    border: {
      width: 2,
      color: {
        light: { type: "hex", value: "#646464" },
        dark: { type: "hex", value: "#646464" },
      },
      style: "solid",
    },
    shape: {
      type: "rectangle",
      corners: {
        top_leading: 8,
        top_trailing: 8,
        bottom_leading: 8,
        bottom_trailing: 8,
      },
    },
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>

<!-- Shapes -->
<Story
  name="Rounded Corners"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    labels,
    shape: {
      type: "rectangle",
      corners: {
        top_leading: 24,
        top_trailing: 24,
        bottom_leading: 24,
        bottom_trailing: 24,
      },
    },
    background_color: {
      light: { type: "hex", value: "#F0F0F0" },
      dark: { type: "hex", value: "#F0F0F0" },
    },
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>

<!-- Fixed Size -->
<Story
  name="Fixed Size"
  args={{
    type: "stack",
    purchaseState,
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    labels,
    size: {
      width: { type: "fixed", value: 300 },
      height: { type: "fixed", value: 200 },
    },
    background_color: {
      light: { type: "hex", value: "#F0F0F0" },
      dark: { type: "hex", value: "#F0F0F0" },
    },
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
  }}
/>

<!-- Shadow -->
<Story
  name="Shadow"
  args={{
    shadow: {
      x: 16,
      y: 16,
      radius: 8,
      color: {
        dark: { type: "hex", value: "#d3d3d3" },
        light: { type: "hex", value: "#d3d3d3" },
      },
    },
    type: "stack",
    dimension: {
      type: "vertical",
      alignment: "center",
      distribution: "start",
    },
    components,
    purchaseState,
    labels,
    border: {
      width: 2,
      color: {
        light: { type: "hex", value: "#646464" },
        dark: { type: "hex", value: "#646464" },
      },
      style: "solid",
    },
    shape: {
      type: "rectangle",
      corners: {
        top_leading: 8,
        top_trailing: 8,
        bottom_leading: 8,
        bottom_trailing: 8,
      },
    },
    spacing: 16,
    padding: { top: 16, trailing: 16, bottom: 16, leading: 16 },
    size: { width: { type: "fill" }, height: { type: "fill" } },
  }}
/>
